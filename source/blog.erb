<div class="page-header">
  <div class="page-header__container">
    <div class="page-header__title">
      Blog
    </div>
  </div>
</div>

<div class="container container--blog js-packery" id="siteHeaderWaypoint"
  data-packery-options='{
    "itemSelector": ".blog-tile",
    "columnWidth": ".blog-tile",
    "percentPosition": true,
    "transitionDuration": 0
  }'>
  <% blog.articles.each do |article| %>
    <% if article.data.weekly_roundup %>
      <%= partial 'blog_small_tile', locals: { article: article } %>
    <% elsif article.data.main_image %>
      <%= partial 'blog_large_tile', locals: { article: article } %>
    <% else %>
      <%= partial 'blog_medium_tile', locals: { article: article } %>
    <% end %>
  <% end %>
</div>

<script>
new Waypoint({
  element: $('#siteHeaderWaypoint'),
  handler: function(direction) {
    var siteHeader = $('.site-header');
    if (direction === 'down') {
      siteHeader.addClass('site-header--active-scroll');
    } else {
      siteHeader.removeClass('site-header--active-scroll');
    }
  },
  offset: 54
});
</script>
